/* ================================================
   BASE.CSS — HabboCity Dark Style
   Navy profond, cartes propres, sidebar épurée
   ================================================ */

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; overflow: hidden; }
body {
  font-family: var(--font-body);
  background: var(--bg-deep);
  color: var(--text-primary);
  font-size: 14px;
  line-height: 1.5;
}
::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,.1); border-radius: 99px; }

/* ── Loading Screen ────────────────────────── */
#loading-screen {
  position: fixed; inset: 0; z-index: 9999;
  background: var(--bg-deep);
  display: flex; align-items: center; justify-content: center;
  overflow: hidden;
}
#loading-screen::before {
  content: '';
  position: absolute; inset: 0;
  background:
    radial-gradient(ellipse 60% 40% at 30% 50%, rgba(107,140,255,.07) 0%, transparent 60%),
    radial-gradient(ellipse 40% 60% at 70% 60%, rgba(0,200,81,.04) 0%, transparent 60%);
  animation: nebula 8s ease-in-out infinite alternate;
}
@keyframes nebula { from{opacity:.6}to{opacity:1} }

.ls-particle {
  position: absolute; border-radius: 50%;
  background: rgba(107,140,255,.5);
  animation: ls-float linear infinite;
}
@keyframes ls-float {
  0%   { transform: translateY(0) scale(1); opacity: 0; }
  10%  { opacity: 1; }
  90%  { opacity: .5; }
  100% { transform: translateY(-80vh) scale(.4); opacity: 0; }
}

.ls-content { position: relative; z-index: 2; display: flex; flex-direction: column; align-items: center; }
.ls-logo-wrap { position: relative; width: 160px; height: 160px; display: flex; align-items: center; justify-content: center; margin-bottom: 24px; }
.ls-orbit { position: absolute; top:0; left:0; width:160px; height:160px; animation: ls-spin 4s linear infinite; }
.ls-orbit-2 { animation-duration: 2.8s; animation-direction: reverse; }
.ls-orbit-ring { fill:none; stroke:rgba(107,140,255,.10); stroke-width:1; }
.ls-orbit-ring-2 { fill:none; stroke:rgba(0,200,81,.10); stroke-width:1; }
.ls-orbit-dot { fill:rgba(107,140,255,.8); filter:drop-shadow(0 0 4px #6b8cff); animation:ls-spin 4s linear infinite reverse; transform-origin:80px 80px; }
.ls-orbit-dot-2 { fill:rgba(0,200,81,.8); filter:drop-shadow(0 0 4px #00c851); animation:ls-spin 2.8s linear infinite; transform-origin:80px 80px; }
@keyframes ls-spin { from{transform:rotate(0deg)}to{transform:rotate(360deg)} }

.ls-core {
  width:72px; height:72px; border-radius:50%;
  border:2px solid rgba(107,140,255,.35);
  display:flex; align-items:center; justify-content:center;
  position:relative;
  background: rgba(107,140,255,.06);
  box-shadow: 0 0 0 8px rgba(107,140,255,.04), 0 0 40px rgba(107,140,255,.12);
}
.ls-core-inner {
  font-family: var(--font-mono); font-size:20px; font-weight:700;
  color:#6b8cff; letter-spacing:-1px;
  text-shadow: 0 0 20px rgba(107,140,255,.8);
}
.ls-core-pulse {
  position:absolute; inset:-10px; border-radius:50%;
  border:1px solid rgba(107,140,255,.18);
  animation: ls-pulse 2s ease-in-out infinite;
}
@keyframes ls-pulse { 0%{transform:scale(1);opacity:1}100%{transform:scale(1.6);opacity:0} }

.ls-brand {
  font-family:var(--font-title); font-size:26px; font-weight:800;
  color:#e8e8f0; letter-spacing:-.5px; margin-bottom:24px;
}
.ls-brand span { color:#6b8cff; }

.ls-bar-wrap { display:flex; align-items:center; gap:12px; width:280px; }
.ls-bar-track { flex:1; height:3px; background:rgba(255,255,255,.06); border-radius:99px; overflow:hidden; position:relative; }
.ls-bar-fill {
  height:100%; width:0%;
  background: linear-gradient(90deg, #4a6ee0, #99b3ff);
  border-radius:99px;
  box-shadow:0 0 12px rgba(107,140,255,.5);
  transition: width .35s ease; position:relative;
}
.ls-bar-fill::after {
  content:''; position:absolute; right:0; top:50%;
  transform:translateY(-50%);
  width:6px; height:6px; border-radius:50%;
  background:#99b3ff; box-shadow:0 0 8px rgba(153,179,255,.8);
}
.ls-bar-pct { font-family:var(--font-mono); font-size:11px; color:rgba(107,140,255,.7); width:32px; text-align:right; }
.ls-step { font-size:10px; color:rgba(107,140,255,.45); margin-top:10px; font-family:var(--font-mono); letter-spacing:1.5px; text-transform:uppercase; height:16px; transition:opacity .3s; }

/* ── App Shell ─────────────────────────────── */
#app-shell { display:flex; flex-direction:column; height:100vh; position:relative; z-index:1; }

/* ── Titlebar ──────────────────────────────── */
#titlebar {
  height: var(--titlebar-h);
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 8px 0 0;
  background: var(--bg-titlebar);
  border-bottom: 1px solid var(--border);
  -webkit-app-region: drag;
  flex-shrink: 0; z-index: 100; position: relative;
}
#titlebar::after {
  content:''; position:absolute; bottom:0; left:0; right:0; height:1px;
  background: linear-gradient(90deg, transparent, rgba(107,140,255,.3), transparent);
  opacity: .5;
}
.titlebar-logo {
  display:flex; align-items:center; gap:9px; padding:0 16px;
  font-family:var(--font-title); font-weight:800; font-size:14px;
  -webkit-app-region: no-drag;
  color: var(--text-primary);
}
.logo-badge {
  width:27px; height:27px; background:var(--accent); border-radius:7px;
  display:flex; align-items:center; justify-content:center;
  font-size:10px; font-weight:900; color:#fff;
  font-family:var(--font-mono); letter-spacing:-1px;
  box-shadow:0 0 14px var(--accent-glow);
}
.app-accent { color:var(--accent-light); }
.titlebar-center {
  position:absolute; left:50%; transform:translateX(-50%);
  display:flex; align-items:center; gap:7px;
  -webkit-app-region: drag;
}
.tb-dot { width:5px; height:5px; border-radius:50%; background:var(--green); box-shadow:0 0 6px var(--green-glow); animation:blink 2.5s ease-in-out infinite; }
@keyframes blink { 0%,100%{opacity:1}50%{opacity:.25} }
.tb-label { font-family:var(--font-mono); font-size:10px; color:var(--text-muted); letter-spacing:1.5px; text-transform:uppercase; }
.titlebar-right { display:flex; align-items:center; gap:7px; -webkit-app-region:no-drag; }

.admin-access-btn {
  display:flex; align-items:center; gap:7px; padding:5px 13px;
  border-radius:var(--radius-md); border:1px solid rgba(155,114,255,.3);
  background:rgba(155,114,255,.1); color:#c4a7ff; cursor:pointer;
  font-family:var(--font-body); font-size:12px; font-weight:700;
  transition:all .15s;
}
.admin-access-btn:hover { background:rgba(155,114,255,.2); border-color:rgba(155,114,255,.5); }
.admin-dot { width:5px; height:5px; border-radius:50%; background:var(--purple); box-shadow:0 0 6px var(--purple-glow); }

.titlebar-controls { display:flex; gap:2px; }
.win-btn {
  width:30px; height:30px; border-radius:6px;
  border:none; background:transparent; cursor:pointer;
  display:flex; align-items:center; justify-content:center;
  color:var(--text-muted); font-size:12px; transition:all .15s;
}
.win-btn:hover { background:rgba(255,255,255,.06); color:var(--text-primary); }
.win-btn.close:hover { background:var(--red); color:#fff; }
.win-btn.quit { opacity:.6; font-size:14px; }
.win-btn.quit:hover { background:rgba(224,82,82,.7) !important; color:#fff !important; opacity:1; }

/* ── Body area ─────────────────────────────── */
#body-area { display:flex; flex:1; overflow:hidden; }

/* ── Global announcement ───────────────────── */
.global-announcement {
  display:flex; align-items:center; gap:12px;
  padding:8px 20px; border-bottom:1px solid;
  flex-shrink:0; animation:slideDown .3s ease;
}
@keyframes slideDown { from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)} }
.global-announcement.info    { background:rgba(107,140,255,.06); border-color:rgba(107,140,255,.2); }
.global-announcement.success { background:rgba(0,200,81,.06); border-color:rgba(0,200,81,.2); }
.global-announcement.warning { background:rgba(244,196,48,.06); border-color:rgba(244,196,48,.2); }
.global-announcement.event   { background:rgba(155,114,255,.06); border-color:rgba(155,114,255,.2); }
.ga-icon { font-size:16px; flex-shrink:0; }
.ga-content { flex:1; }
.ga-title { font-weight:700; font-size:13px; }
.ga-msg { font-size:12px; color:var(--text-secondary); }
.ga-close { width:20px;height:20px;border-radius:50%;border:none;background:rgba(255,255,255,.06);cursor:pointer;color:var(--text-secondary);font-size:10px;display:flex;align-items:center;justify-content:center;transition:all .15s;flex-shrink:0; }
.ga-close:hover { background:rgba(255,255,255,.12);color:var(--text-primary); }

/* ════════════════════════════════════════════
   SIDEBAR — Style HabboCity
   ════════════════════════════════════════════ */
#sidebar {
  width: var(--sidebar-w);
  background: var(--bg-sidebar);
  border-right: 1px solid var(--border);
  display: flex; flex-direction: column;
  flex-shrink: 0; overflow-y: auto; overflow-x: hidden;
}

/* Profile card en haut de la sidebar */
.sidebar-profile {
  padding: 16px 14px 12px;
  border-bottom: 1px solid var(--border);
}
.sidebar-profile-inner {
  display: flex; align-items: center; gap: 10px;
}
.sidebar-avatar {
  width: 38px; height: 38px; border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), var(--purple));
  display: flex; align-items: center; justify-content: center;
  font-size: 16px; font-weight: 800; color: #fff;
  flex-shrink: 0; text-transform: uppercase;
  box-shadow: 0 0 0 2px var(--bg-sidebar), 0 0 0 3px rgba(107,140,255,.3);
}
.sidebar-profile-info { flex: 1; min-width: 0; }
.sidebar-profile-name {
  font-weight: 700; font-size: 13px;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.sidebar-profile-email {
  font-size: 10px; color: var(--text-muted);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  margin-top: 1px;
}

/* Navigation */
.sidebar-nav { padding: 8px 10px; flex: 1; }
.sidebar-section-label {
  font-size: 9px; font-weight: 700; letter-spacing: 2.5px;
  text-transform: uppercase; color: var(--text-muted);
  padding: 10px 8px 4px; font-family: var(--font-mono);
  display: block;
}
.nav-btn {
  display: flex; align-items: center; gap: 9px;
  padding: 7px 10px; border-radius: var(--radius-md);
  border: none; background: transparent; cursor: pointer;
  color: var(--text-secondary); font-family: var(--font-body);
  font-size: 13px; font-weight: 500;
  width: 100%; text-align: left; transition: all .12s;
  position: relative;
}
.nav-btn .nav-icon { font-size: 15px; width: 20px; text-align: center; flex-shrink: 0; }
.nav-btn:hover { background: rgba(255,255,255,.04); color: var(--text-primary); }
.nav-btn.active {
  background: rgba(107,140,255,.12);
  color: var(--accent-light);
  font-weight: 700;
}
.nav-btn.active::before {
  content: '';
  position: absolute; left: 0; top: 50%;
  transform: translateY(-50%);
  width: 3px; height: 16px;
  background: var(--accent);
  border-radius: 0 3px 3px 0;
}

/* Tokens box bas de sidebar */
.sidebar-bottom {
  padding: 10px;
  border-top: 1px solid var(--border);
  display: flex; flex-direction: column; gap: 6px;
}
.sidebar-tokens-box {
  padding: 14px 14px 12px;
  border-radius: var(--radius-lg);
  background: rgba(107,140,255,.07);
  border: 1px solid rgba(107,140,255,.15);
  text-align: center; position: relative; overflow: hidden;
}
.sidebar-tokens-num {
  font-family: var(--font-mono); font-size: 30px; font-weight: 700;
  color: var(--yellow); line-height: 1;
  text-shadow: 0 0 20px rgba(244,196,48,.35);
}
.sidebar-tokens-label {
  font-size: 9px; color: var(--text-secondary);
  margin-top: 3px; letter-spacing: 1.5px;
  text-transform: uppercase; font-family: var(--font-mono);
}
.sidebar-streak {
  display: flex; align-items: center; justify-content: center;
  gap: 4px; margin-top: 6px; font-size: 12px;
  color: var(--yellow); font-weight: 700;
}
.quick-adjust { display:flex;align-items:center;justify-content:center;gap:7px;margin-top:6px; }
.qa-btn { width:24px;height:24px;border-radius:var(--radius-sm);border:1px solid var(--border);background:var(--bg-elevated);color:var(--text-primary);font-size:14px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s; }
.qa-btn:hover { border-color:var(--accent);color:var(--accent); }
.qa-label { font-size:10px;color:var(--text-muted); }
.multiplier-badge { padding:4px 10px;border-radius:99px;text-align:center;font-size:11px;font-weight:700;color:var(--yellow);background:rgba(244,196,48,.08);border:1px solid rgba(244,196,48,.22); }

/* ── Main content ──────────────────────────── */
#main-content {
  flex: 1; overflow-y: auto; overflow-x: hidden;
  padding: 22px 26px;
  display: flex; flex-direction: column; gap: 16px;
}

/* ── Page header ────────────────────────────── */
.page-header { margin-bottom: 4px; }
.page-title {
  font-family: var(--font-title); font-size: 22px; font-weight: 800;
  color: var(--text-primary); letter-spacing: -.2px;
  display: flex; align-items: center; gap: 9px;
}
.page-title-icon {
  width: 30px; height: 30px; background: var(--accent);
  border-radius: 8px; display: flex; align-items: center;
  justify-content: center; font-size: 15px; color: #fff;
  box-shadow: 0 0 14px var(--accent-glow); flex-shrink: 0;
}
.page-subtitle { color: var(--text-secondary); font-size: 12px; margin-top: 3px; }

/* ── Toast ─────────────────────────────────── */
#toast-container { position:fixed;bottom:20px;right:20px;display:flex;flex-direction:column;gap:7px;z-index:2000; }
.toast { background:var(--bg-elevated);border:1px solid var(--border-hover);border-radius:var(--radius-md);padding:10px 15px;display:flex;align-items:center;gap:9px;min-width:260px;animation:toastIn .22s ease;box-shadow:0 8px 28px rgba(0,0,0,.5); }
@keyframes toastIn { from{opacity:0;transform:translateX(26px)}to{opacity:1;transform:translateX(0)} }
.toast.success{border-color:rgba(0,200,81,.35)}.toast.teal{border-color:rgba(107,140,255,.35)}.toast.error{border-color:rgba(224,82,82,.35)}
.toast-icon{font-size:17px}.toast-msg{font-size:13px;font-weight:500}

/* ── Update banner ─────────────────────────── */
#update-banner{position:fixed;bottom:22px;left:50%;transform:translateX(-50%);z-index:3000;animation:slideUp .3s ease}
@keyframes slideUp{from{opacity:0;transform:translateY(18px) translateX(-50%)}to{opacity:1;transform:translateY(0) translateX(-50%)}}
.update-bar{display:flex;align-items:center;gap:12px;padding:11px 17px;border-radius:var(--radius-lg);border:1px solid;backdrop-filter:blur(12px);box-shadow:0 8px 36px rgba(0,0,0,.5);font-size:13px;font-weight:500;white-space:nowrap}
.update-bar.available{background:rgba(20,30,60,.92);border-color:rgba(107,140,255,.38);color:var(--accent-light)}
.update-bar.downloading{background:rgba(40,30,10,.92);border-color:rgba(244,196,48,.38);color:var(--yellow)}
.update-bar.downloaded{background:rgba(10,40,20,.9);border-color:rgba(0,200,81,.38);color:#00c851;cursor:pointer}
.update-progress{width:120px;height:3px;background:rgba(255,255,255,.08);border-radius:99px;overflow:hidden}
.update-progress-fill{height:100%;background:var(--yellow);border-radius:99px;transition:width .3s ease}

@keyframes nebula-drift { 0%{transform:scale(1) translate(0,0);opacity:.7}100%{transform:scale(1.2) translate(20px,-20px);opacity:1} }
